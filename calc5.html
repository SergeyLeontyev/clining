<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Document</title>
	<link rel="stylesheet" href="./assets/css/style.min.css" />
	<link rel="stylesheet" href="./assets/css/jquery.mCustomScrollbar.min.css" />
	<link rel="stylesheet" href="./assets/css/swiper-bundle.min.css" />
</head>

<body>
	<div class="wrap">
		<div class="area area__calc-six" style="margin-top: 100px">

			<div class="area__cards">
				<div class="cardWind">
					<div class="cardWind-img"><img src="/assets/img/calc/wind-1.svg" alt=""></div>
					<p>Одностворчатое</p>
					<div class="cardWind-num">
						<div id="del_one" class="ar_left"></div>
						<input type="number" data-number="100" min="0" max="99" value="0">
						<div id="add_one" class="ar_right"></div>
					</div>
				</div>
				<div class="cardWind">
					<div class="cardWind-img"><img src="/assets/img/calc/wind-2.svg" alt=""></div>
					<p>Двухстворчатое</p>
					<div class="cardWind-num">
						<div id="del_one" class="ar_left"></div>
						<input type="number" data-number="200" min="0" max="99" value="0">
						<div id="add_one" class="ar_right"></div>
					</div>
				</div>
				<div class="cardWind">
					<div class="cardWind-img"><img src="/assets/img/calc/wind-3.svg" alt=""></div>
					<p>Трехстворчатое</p>
					<div class="cardWind-num">
						<div id="del_one" class="ar_left"></div>
						<input type="number" data-number="300" min="0" max="99" value="0">
						<div id="add_one" class="ar_right"></div>
					</div>
				</div>
				<div class="cardWind">
					<div class="cardWind-img"><img src="/assets/img/calc/wind-4.svg" alt=""></div>
					<p> Балкон или лоджия</p>
					<div class="cardWind-num">
						<div id="del_one" class="ar_left"></div>
						<input type="number" data-number="400" min="0" max="99" value="0">
						<div id="add_one" class="ar_right"></div>
					</div>
				</div>
			</div>

			<div class="area__small-box">
				<p class="area__title">Выберите услугу</p>
				<div class="area__checked">
					<div class="checkbox">
						<input class="custom-checkbox" type="checkbox" id="1" name="1" data-add="150">
						<label for="1">Москитные сетки</label>
					</div>

					<div class="checkbox">
						<input class="custom-checkbox" type="checkbox" id="2" name="2" data-add="150">
						<label for="2">Жалюзи</label>
					</div>

					<div class="checkbox">
						<input class="custom-checkbox" type="checkbox" id="3" name="3" data-add="150">
						<label for="3">Окно+балконная дверь</label>
					</div>

				</div>

				<div class="area__score">
					<p>Итого</p>
					<div class="area__score-sum"><span>2500</span> ₽</div>
				</div>
				<button class="btn btn-blue">Заказать уборку</button>
			</div>
		</div>
	</div>
</body>

<script>
	const coefficient = {
		cof_0: 100,
		cof_1: 200,
		cof_2: 300,
		cof_3: 400,
	}
	let areaPrice = document.querySelector('.area__score-sum span');
	let winds = document.querySelectorAll(".cardWind-num");
	let totalPrice = 0;

	let windowList = {
		window_0: 0,
		window_1: 0,
		window_2: 0,
		window_3: 0,
	};

	const getTotalSum = () => {
		console.log(Object.values(windowList))
		let result = 0;
		Object.values(windowList).forEach(value => {
			result = result + value
		})
		return result
	}

	const changePrice = (value, indexWindow) => {
		console.log(indexWindow)
		windowList[`window_${indexWindow}`] = Number(value) * coefficient[`cof_${indexWindow}`]
		areaPrice.innerText = getTotalSum()
	}

	winds.forEach((windItem, index) => {
		let inpValue = windItem.querySelector("input");
		let addOne = windItem.querySelector(".ar_right");
		let delOne = windItem.querySelector(".ar_left");

		addOne.addEventListener("click", () => {
			let result = Number(inpValue.value);
			inpValue.value = result + 1;
			changePrice(result, index)
		});

		delOne.addEventListener("click", () => {
			let result = Number(inpValue.value);
			inpValue.value = result - 1;
			changePrice(result, index)
			if (result > 1) {
				inpValue.value = result - 1;
			} else {
				inpValue.value = 0;
			}
		});
	});

	winds[0].querySelector('input').addEventListener('change', () => {
		console.log('SFSDF');
	})

</script>

</html>